## Стыковка RSPOS-ПОС. Контракты взаимодействия

Данный документ описывает контракты взаимодействия между внешней, по отношению к программному обеспечению компании Resol, кассовой системой и кассового модуля RSPOS.
Данные контракты должны быть разработаны на стороне внешней кассовой системы.

### Список терминов и сокращений

| Сокращение |                                             |
|------------|---------------------------------------------|
| POS        | Внешняя кассовая система                    |
| ПОС        | Тоже что и POS                              |
| RSPOS      | Кассовый модуль компании Resol              |
| API        | Контракт, который предоставляет POS система |
| КСО        | Касса самообслуживания                      |
| RSDP       | Программное обеспечение КСО                 |
| ERP        | Бэкенд система ПОС                          |
| ФР         | Фискальный регистратор                      |
| ФП         | Фискальный принтер                          |
| EFT        | Платежный банковский терминал               |
| СБП        | Система быстрых платежей                    |


### Общие правила:
Все ответы от API реальной кассовой системы должны возвращать `HttpStatusCode=200 (OK)`. 
Логика определения успешности выполнения запроса основана на обработке тела ответа, где `result=true` означает успешный ответ а `result=false` неуспешный. 
В случае неуспешности выполнения запроса API должен также вернуть `ErrorCode` и `ErrorMessage`. 
Если по полю `ErrorCode` RSPOS найдет перевод на текущий язык системы, то КСО покажет его, иначе будет показано сообщение об ошибке из поля `ErrorMessage`.

Для взаимодействия с внешней POS системой RSPOS использует протокол HTTP. 
Все сообщения отправляются и принимаются только в формате JSON.
Паттерн взаимодействия синхронный (Request->Response).
Заголовок каждого сообщения включает в себя `X-Request-Id` (уникальный идентификатор запроса)

На усмотрение разработчиков и с точки зрения безопасности на стороне API POS системы может быть организована авторизация (не входит в описание данного документа). 
Информация по используемой схеме авторизации и аутентификации должна быть предоставлена разработчиками API.


## Конечные точки (endpoints)

- [posinfo](endpoints/posinfo.md)
- [auth](endpoints/auth.md)
- [signon](endpoints/signon.md)

